apiVersion: networking.istio.io/v1alpha3
kind: VirtualService
metadata:
  name: customers-service
spec:
  hosts:
    - customers-service
  http:
    - route:
        - destination:
            host: customers-service
      retries:
        attempts: 3
        perTryTimeout: 2s
        retryOn: 5xx
      timeout: 10s
---
apiVersion: networking.istio.io/v1alpha3
kind: VirtualService
metadata:
  name: vets-service
spec:
  hosts:
    - vets-service
  http:
    - route:
        - destination:
            host: vets-service
      retries:
        attempts: 3
        perTryTimeout: 2s
        retryOn: 5xx
      timeout: 10s
---
apiVersion: networking.istio.io/v1alpha3
kind: VirtualService
metadata:
  name: visits-service
spec:
  hosts:
    - visits-service
  http:
    - route:
        - destination:
            host: visits-service
      retries:
        attempts: 3
        perTryTimeout: 2s
        retryOn: 5xx
      timeout: 10s
---
apiVersion: networking.istio.io/v1alpha3
kind: VirtualService
metadata:
  name: genai-service
spec:
  hosts:
    - genai-service
  http:
    - route:
        - destination:
            host: genai-service
      retries:
        attempts: 3
        perTryTimeout: 2s
        retryOn: 5xx
      timeout: 10s
